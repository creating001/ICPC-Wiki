# 博弈

## 尼姆博弈

> 板子题网址: https://www.luogu.com.cn/problem/P2197

定义: 有任意堆物品，每堆物品的个数也任意，双方轮流取物品，每次只能从一堆中取至少一个物品，取到最后一件物品的人获胜。

结论: 把每堆物品数全部异或起来，若值为0，则先手必败，否则先手必胜。

### Moore’s Nimk

定义: n堆石子，每次从不超过k堆中取任意多个石子，最后不能取的人失败。

结论为: 把n堆石子的石子数用二进制表示, 统计每个二进制位上1的个数, 若每一位上1的个数mod(k+1)全部为0，则必败，否则必胜。

### anti-nim

定义: 反nim游戏是取走最后一颗的人输。

结论: 一个状态为必胜态，当且仅当:
1. 所有堆的石子个数为1，且nim_sum=0
2. 至少有一堆的石子个数大于1，且nim_sum!=0

###  阶梯Nim

定义: 有n堆石子，A,B轮流操作，每次可以选第k堆中的任意多个石子放到第k−1堆中，第1堆中的石子可以放到第0堆中，最后无法操作的人为输。问A先手是否有必胜策略。

结论：先手必败当且仅当奇数堆中的石子数异或和为0。

## 巴什博奕

定义: 只有一堆n个物品，两个人轮流从这堆物品中取物，规定每次至少取一个，最多取m个，最后取光者得胜。

结论:如果n%(m+1)==0，则后手赢，否则先手赢。

## 威佐夫博奕

> 板子题网址: https://www.luogu.com.cn/problem/P2252

定义: 首先有两堆石子，博弈双方每次可以取一堆石子中的任意个，不能不取，或者取两堆石子中的相同个。先取完者赢。

结论:
1. 必胜状态必有一个后继状态是必败状态。
2. 必败状态后继状态不可能是另一个必败状态。
3. 必败状态通项公式：设当前状态为 `(a,b)(a<b)`，则当 `a=⌊(sqrt(5)+1)/2⌋×(b−a)` 时该状态为必败状态。

## 斐波那契博弈

定: 有一堆物品，共n个，两人轮流取物，先手可取任意件，但不能不取，也不能把物品取完，之后每次取的物品数不能超过上一次的两倍，且至少为1件，取走最后一件物品的人获胜。

结论: 当且仅当n不是斐波那契数时，先手胜。
